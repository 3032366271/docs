(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{311:function(s,t,a){"use strict";a.r(t);var n=a(6),r=Object(n.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"rabbitmq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq","aria-hidden":"true"}},[s._v("#")]),s._v(" RabbitMQ")]),s._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("ActiveMQ 和 RabbitMQ 二选其一")])]),s._v(" "),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("- 查看最新版本：https://github.com/rabbitmq/rabbitmq-server/releases\n- 注意：下载 rabbitmq-server-generic-unix-***.tar.xz 版本\n- 下载：wget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.7.8/rabbitmq-server-generic-unix-3.7.8.tar.xz\n- 解压：1. xz -d ***.tar.xz"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 2. "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf  ***.tar\n- 前台启动： ./sbin/rabbitmq-server\n- 后台启动： ./sbin/rabbitmq-server -detached\n- 停止运行： ./sbin/rabbitmqctl stop\n- 查看状态： ./sbin/rabbitmqctl status\n\n- 启用管理后台:\n    ./sbin/rabbitmq-plugins "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("enable")]),s._v(" rabbitmq_management\n    ./sbin/rabbitmq-plugins "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("enable")]),s._v(" rabbitmq_shovel rabbitmq_shovel_management\n- 禁用：\n    ./sbin/rabbitmq-plugins disable rabbitmq_management\n- 启用mqtt：  \n    ./sbin/rabbitmq-plugins "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("enable")]),s._v(" rabbitmq_mqtt\n    ./sbin/rabbitmq-plugins "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("enable")]),s._v(" rabbitmq_web_mqtt\n    ./sbin/rabbitmq-plugins "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("enable")]),s._v(" rabbitmq_web_mqtt_examples\n-禁用：\n    ./sbin/rabbitmq-plugins disable rabbitmq_mqtt\n    https://www.rabbitmq.com/mqtt.html\n- 启用stomp:\n    ./sbin/rabbitmq-plugins "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("enable")]),s._v(" rabbitmq_web_stomp\n    ./sbin/rabbitmq-plugins "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("enable")]),s._v(" rabbitmq_web_stomp_examples\n    https://www.rabbitmq.com/web-stomp.html\n    测试实例： http://127.0.0.1:15670/\n\n- 登录管理后台: http://localhost:15672, guest/guest\n- 其他：https://www.rabbitmq.com/man/rabbitmqctl.8.html"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#set_user_tags")]),s._v("\n\n- 添加管理员账号：\n- ./sbin/rabbitmqctl add_user 用户名 密码\n- ./sbin/rabbitmqctl set_user_tags 用户名 administrator\n- ./sbin/rabbitmqctl set_permissions -p "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),s._v(" 用户名 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v("\n\n- 添加访客： ./sbin/rabbitmqctl add_user visitor visitor\n- 添加访问控制： ./sbin/rabbitmqctl set_permissions -p "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),s._v(" visitor "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v("\n- 添加ios端授权用户：./sbin/rabbitmqctl add_user mqtt_ios mqtt_ios\n- 添加访问控制： ./sbin/rabbitmqctl set_permissions -p "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),s._v(" mqtt_ios "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v("\n- 添加android端授权用户：./sbin/rabbitmqctl add_user mqtt_android mqtt_android\n- 添加访问控制： ./sbin/rabbitmqctl set_permissions -p "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),s._v(" mqtt_android "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v("\n- 添加web端授权用户：./sbin/rabbitmqctl add_user stomp_web stomp_web\n- 添加访问控制： ./sbin/rabbitmqctl set_permissions -p "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),s._v(" stomp_web "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v("\n\n- 查看：./sbin/rabbitmqctl list_permissions -p /\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br")])]),a("h2",{attrs:{id:"spring-boot-配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spring-boot-配置文件","aria-hidden":"true"}},[s._v("#")]),s._v(" Spring Boot 配置文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nspring.rabbitmq.host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("127.0.0.1\nspring.rabbitmq.port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("5672\nspring.rabbitmq.username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("你的用户名\nspring.rabbitmq.password"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("你的密码\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\nspring.rabbitmq.stomp.port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("61613\nspring.rabbitmq.stomp.login"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("stomp_web\nspring.rabbitmq.stomp.passcode"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("stomp_web\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集群","aria-hidden":"true"}},[s._v("#")]),s._v(" 集群")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("spring.rabbitmq.addresses"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("127.0.0.1:5672,127.0.0.2:5672,127.0.0.3:5672\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),s._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[s._v("#")]),s._v(" 参考")])])},[],!1,null,null,null);t.default=r.exports}}]);